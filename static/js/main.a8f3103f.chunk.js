(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},,,function(e,t,a){e.exports=a(34)},,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(6),o=a.n(c),i=(a(20),a(1)),l=a(2),s=a(4),h=a(3),p=a(7);function u(e){return{type:"WEATHER_IS_LOADING",isWeatherLoading:e}}function m(e){return{type:"WEATHER_DAILY_IS_LOADING",isLoading:e}}a(27),a(28);function d(){return n.a.createElement("div",{className:"lds-hourglass"})}a(12),a(29);var g=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleLangChange=function(t){t.preventDefault(),e.props.langDocument(t.target.textContent.toLowerCase())},e}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"header-info"},n.a.createElement("p",{className:"header-info-txt"},"ru"===this.props.lang.toLowerCase()?"\u0412\u043e\u0441\u0445\u043e\u0434: ":"Sunrise: ",this.props.weather.sunrise?this.props.sunrise:"00:00",",","ru"===this.props.lang.toLowerCase()?" \u0437\u0430\u0445\u043e\u0434: ":" sunset: ",this.props.weather.sunset?this.props.sunset:"00:00")),n.a.createElement("div",{className:"header-language"},n.a.createElement("a",{onClick:this.handleLangChange,href:"#",className:"ru"===this.props.lang?"header-language-point language-active":"header-language-point"},"RU"),n.a.createElement("a",{onClick:this.handleLangChange,href:"#",className:"en"===this.props.lang?"header-language-point language-active":"header-language-point"},"EN")))}}]),a}(n.a.Component);a(30);function E(e){var t=+e.weather.pres/1.333,a=n.a.createElement("span",null,"\u041e\u0442\u043d. \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c:"),r=n.a.createElement("span",null,"Rel. humidity:"),c=n.a.createElement("span",null,"\u043c\u043c ",n.a.createElement("br",null)," \u0440\u0442. \u0441\u0442."),o=n.a.createElement("span",null,n.a.createElement("br",null),"mmHg");return n.a.createElement("div",{className:"body"},n.a.createElement("h3",{className:"body-main"}," ","ru"===e.lang.toLowerCase()?"\u041f\u043e\u0433\u043e\u0434\u0430 \u0441\u0435\u0439\u0447\u0430\u0441:":"Weather now:"," "),n.a.createElement("div",{className:"body-block"},n.a.createElement("div",{className:"body-block-pic"},n.a.createElement("p",{className:"body-block-descr"},e.weather.weather.description),n.a.createElement("img",{className:"pic",src:"https://www.weatherbit.io/static/img/icons/".concat(e.weather.weather.icon,".png"),alt:"weather pic"})),n.a.createElement("div",{className:"body-block-temp"},n.a.createElement("h4",{className:"temp"},e.weather.temp,n.a.createElement("span",null,"\xb0C")),n.a.createElement("h5",{className:"app-temp"},"ru"===e.lang.toLowerCase()?"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ":"Feels like: ",e.weather.app_temp,n.a.createElement("span",null,"\xb0C")))),n.a.createElement("div",{className:"body-add-info"},n.a.createElement("div",{className:"body-add-info-block"},n.a.createElement("p",{className:"info-main"},"ru"===e.lang.toLowerCase()?"\u0412\u0435\u0442\u0435\u0440:":"Wind:"),n.a.createElement("p",{className:"info-txt"},e.weather.wind_cdir_full,", ",n.a.createElement("br",null)," ",e.weather.wind_spd.toFixed(2)," ",n.a.createElement("span",null,"ru"===e.lang.toLowerCase()?"\u043c/\u0441":"m/s"))),n.a.createElement("div",{className:"body-add-info-block"},n.a.createElement("p",{className:"info-main"},"ru"===e.lang.toLowerCase()?"\u0412\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c:":"Visibility:"),n.a.createElement("p",{className:"info-txt"},e.weather.vis.toFixed(2)," ",n.a.createElement("span",null,"ru"===e.lang.toLowerCase()?"\u043a\u043c":"km"))),n.a.createElement("div",{className:"body-add-info-block"},n.a.createElement("p",{className:"info-main"},"ru"===e.lang.toLowerCase()?"\u041e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c:":"Cloud coverage:"),n.a.createElement("p",{className:"info-txt"},e.weather.clouds," ",n.a.createElement("span",null,"%"))),n.a.createElement("div",{className:"body-add-info-block"},n.a.createElement("p",{className:"info-main"},"ru"===e.lang.toLowerCase()?"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435:":"Pressure:"),n.a.createElement("p",{className:"info-txt"},+t.toFixed(0)," ","ru"===e.lang.toLowerCase()?c:o)),n.a.createElement("div",{className:"body-add-info-block"},n.a.createElement("p",{className:"info-main"},"ru"===e.lang.toLowerCase()?a:r),n.a.createElement("p",{className:"info-txt"},e.weather.rh," ",n.a.createElement("span",null,"%")))))}var w=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).getCorrectedTimeZone=function(e){var t=new Date,a=t.getHours()-t.getUTCHours();return+e[1]+a>=10?"".concat(+e.slice(0,2)+a).concat(e.slice(2)):"".concat(e[0]).concat(+e[1]+a).concat(e.slice(2))},e.handleCurrentChange=function(t){t.preventDefault(),e.props.currentShow(!e.props.current)},e}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement(g,{lang:this.props.lang,weather:this.props.weather,sunrise:this.getCorrectedTimeZone(this.props.weather.sunrise),sunset:this.getCorrectedTimeZone(this.props.weather.sunset),langDocument:this.props.langDocument}),n.a.createElement(E,{lang:this.props.lang,weather:this.props.weather})," ",n.a.createElement("div",{className:"footer"},n.a.createElement("a",{className:"switchMenu",onClick:this.handleCurrentChange,href:"#"},"ru"===this.props.lang.toLowerCase()?"\u041f\u043e\u0447\u0430\u0441\u043e\u0432\u043e":"Hourly"),n.a.createElement("p",{className:"footer-location"},this.props.weather.country_code,", ",this.props.weather.city_name,".")))}}]),a}(n.a.Component),f=(a(31),a(32),function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleLangChange=function(t){t.preventDefault(),e.props.langDocument(t.target.textContent.toLowerCase())},e}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"header-daily"},n.a.createElement("div",{className:"header-language"},n.a.createElement("a",{onClick:this.handleLangChange,href:"#",className:"ru"===this.props.lang?"header-language-point language-active":"header-language-point"},"RU"),n.a.createElement("a",{onClick:this.handleLangChange,href:"#",className:"en"===this.props.lang?"header-language-point language-active":"header-language-point"},"EN")))}}]),a}(n.a.Component)),y=(a(33),function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=n.a.createElement("p",null,"Loadeing...");return this.props.dailyWeather&&(e=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"daily-block"},n.a.createElement("div",{className:"daily-block-hour"},n.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[1].timestamp_local.slice(-8,-3)),n.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[1].weather.icon,".png"),alt:"weather pic"}),n.a.createElement("b",null,n.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[1].temp.toFixed(0),n.a.createElement("span",null,"\xb0C")))),n.a.createElement("div",{className:"daily-block-hour"},n.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[5].timestamp_local.slice(-8,-3)),n.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[5].weather.icon,".png"),alt:"weather pic"}),n.a.createElement("b",null,n.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[5].temp.toFixed(0),n.a.createElement("span",null,"\xb0C")))),n.a.createElement("div",{className:"daily-block-hour"},n.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[9].timestamp_local.slice(-8,-3)),n.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[9].weather.icon,".png"),alt:"weather pic"}),n.a.createElement("b",null,n.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[9].temp.toFixed(0),n.a.createElement("span",null,"\xb0C")))),n.a.createElement("div",{className:"daily-block-hour"},n.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[13].timestamp_local.slice(-8,-3)),n.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[13].weather.icon,".png"),alt:"weather pic"}),n.a.createElement("b",null,n.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[13].temp.toFixed(0),n.a.createElement("span",null,"\xb0C")))),n.a.createElement("div",{className:"daily-block-hour"},n.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[17].timestamp_local.slice(-8,-3)),n.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[17].weather.icon,".png"),alt:"weather pic"}),n.a.createElement("b",null,n.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[17].temp.toFixed(0),n.a.createElement("span",null,"\xb0C")))),n.a.createElement("div",{className:"daily-block-hour"},n.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[21].timestamp_local.slice(-8,-3)),n.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[21].weather.icon,".png"),alt:"weather pic"}),n.a.createElement("b",null,n.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[21].temp.toFixed(0),n.a.createElement("span",null,"\xb0C"))))))),n.a.createElement(n.a.Fragment,null,this.props.dailyWeather?e:null)}}]),a}(n.a.Component)),v=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleCurrentChange=function(t){t.preventDefault(),e.props.currentShow(!e.props.current)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=n.a.createElement(n.a.Fragment,null,n.a.createElement(f,{lang:this.props.lang,langDocument:this.props.langDocument}),n.a.createElement(y,{lang:this.props.lang,ip:this.props.ip,dailyWeather:this.props.dailyWeather}));return n.a.createElement("div",{className:"container"},e,n.a.createElement("div",{className:"footer"},n.a.createElement("a",{className:"switchMenu",onClick:this.handleCurrentChange,href:"#"},"ru"===this.props.lang.toLowerCase()?"\u0421\u0435\u0439\u0447\u0430\u0441":"Now"),n.a.createElement("p",{className:"footer-location"},this.props.weather.country_code,", ",this.props.weather.city_name,".")))}}]),a}(n.a.Component),b="750a8cfa8e654d4a97f9ad5a9ad7bbf6",N=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.coordinatesData()}},{key:"componentDidUpdate",value:function(e){this.props.coordinates!==e.coordinates&&(this.props.fetchWeather("https://api.weatherbit.io/v2.0/current?&lat=".concat(this.props.coordinates.coords.latitude,"&lon=").concat(this.props.coordinates.coords.longitude,"&key=").concat(b,"&lang=").concat(this.props.lang)),this.props.weatherDailyFetchData("https://api.weatherbit.io/v2.0/forecast/hourly?&lat=".concat(this.props.coordinates.coords.latitude,"&lon=").concat(this.props.coordinates.coords.longitude,"&key=").concat(b,"&hours=25&lang=").concat(this.props.lang))),this.props.lang!==e.lang&&(this.props.fetchWeather("https://api.weatherbit.io/v2.0/current?&lat=".concat(this.props.coordinates.coords.latitude,"&lon=").concat(this.props.coordinates.coords.longitude,"&key=").concat(b,"&lang=").concat(this.props.lang)),this.props.weatherDailyFetchData("https://api.weatherbit.io/v2.0/forecast/hourly?&lat=".concat(this.props.coordinates.coords.latitude,"&lon=").concat(this.props.coordinates.coords.longitude,"&key=").concat(b,"&hours=25&lang=").concat(this.props.lang)))}},{key:"render",value:function(){var e=this.props.coordinates&&this.props.weather.sunrise?n.a.createElement(w,{lang:this.props.lang,weather:this.props.weather,getCorrectedTimeZone:this.props.getCorrectedTimeZone,langDocument:this.props.langDocument,current:this.props.current,dailyWeather:this.props.dailyWeather,weatherDailyFetchData:this.props.weatherDailyFetchData,currentShow:this.props.currentShow}):n.a.createElement(d,null),t=this.props.coordinates&&this.props.dailyWeather[0]?n.a.createElement(v,{lang:this.props.lang,langDocument:this.props.langDocument,weather:this.props.weather,current:this.props.current,dailyWeather:this.props.dailyWeather,weatherDailyFetchData:this.props.weatherDailyFetchData,currentShow:this.props.currentShow}):n.a.createElement(d,null);return n.a.createElement("div",{className:"wrapper"},this.props.current?e:t)}}]),a}(n.a.Component),C=Object(p.b)((function(e){return{weather:e.weather,isWeatherError:e.isWeatherError,isWeatherLoading:e.isWeatherLoading,coordinates:e.coordinates,isError:e.isError,isLoading:e.isLoading,lang:e.lang,current:e.current,dailyWeather:e.dailyWeather}}),(function(e){return{coordinatesData:function(t){return e((function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e(function(e){return{type:"INFORM_COORDINATES_DATA_SUCCESS",coordinates:e}}(t))})):e({type:"INFORM_HAS_ERRORED",isError:!0})}))},fetchWeather:function(t){return e(function(e){return function(t){t(u(!0)),fetch(e).then((function(e){if(!e.ok)throw Error(e.statusText);return t(u(!1)),e})).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:"WEATHER_FETCH_DATA_SUCCESS",weather:e}}(e.data[0]))})).catch((function(){return t({type:"WEATHER_HAS_ERRORED",isWeatherError:!0})}))}}(t))},langDocument:function(t){return e(function(e){return{type:"CHANGING_LANGUAGE",lang:e}}(t))},weatherDailyFetchData:function(t){return e(function(e){return function(t){t(m(!0)),fetch(e).then((function(e){if(!e.ok)throw Error(e.statusText);return t(m(!1)),e})).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:"WEATHER_DAILY_FETCH_DATA_SUCCESS",weatherDaily:e}}(e.data))})).catch((function(){return t({type:"WEATHER_DAILY_HAS_ERRORED",isError:!0})}))}}(t))},currentShow:function(t){return e(function(e){return{type:"SHOW_CURRENT",currentWeather:e}}(t))}}}))(N),_=a(5),W=a(14);var D=Object(_.c)({informIsError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFORM_HAS_ERRORED":return t.isError;default:return e}},coordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFORM_COORDINATES_DATA_SUCCESS":return t.coordinates;default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER_FETCH_DATA_SUCCESS":return t.weather;default:return e}},weatherIsError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER_HAS_ERRORED":return t.isWeatherError;default:return e}},weatherIsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER_IS_LOADING":return t.isWeatherLoading;default:return e}},lang:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ru",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGING_LANGUAGE":return t.lang;default:return e}},current:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_CURRENT":return t.currentWeather;default:return e}},dailyWeather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER_DAILY_FETCH_DATA_SUCCESS":return t.weatherDaily;default:return e}}});var k,A=Object(_.d)(D,k,Object(_.a)(W.a));o.a.render(n.a.createElement(p.a,{store:A},n.a.createElement(C,null)),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.a8f3103f.chunk.js.map