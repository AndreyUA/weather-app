(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},,,function(e,t,a){e.exports=a(34)},,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(6),c=a.n(i),l=(a(20),a(1)),s=a(2),o=a(4),p=a(3),h=a(7);function u(e){return{type:"INFORM_IS_LOADING",isLoading:e}}function m(e){return{type:"WEATHER_IS_LOADING",isWeatherLoading:e}}function d(e){return{type:"WEATHER_DAILY_IS_LOADING",isLoading:e}}a(27),a(28);function g(){return r.a.createElement("div",{className:"lds-hourglass"})}a(12),a(29);var E=function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleLangChange=function(t){t.preventDefault(),e.props.langDocument(t.target.textContent.toLowerCase())},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-info"},r.a.createElement("p",{className:"header-info-txt"},"ru"===this.props.lang.toLowerCase()?"\u0412\u043e\u0441\u0445\u043e\u0434: ":"Sunrise: ",this.props.weather.sunrise?this.props.sunrise:"00:00",",","ru"===this.props.lang.toLowerCase()?" \u0437\u0430\u0445\u043e\u0434: ":" sunset: ",this.props.weather.sunset?this.props.sunset:"00:00")),r.a.createElement("div",{className:"header-language"},r.a.createElement("a",{onClick:this.handleLangChange,href:"#",className:"ru"===this.props.lang?"header-language-point language-active":"header-language-point"},"RU"),r.a.createElement("a",{onClick:this.handleLangChange,href:"#",className:"en"===this.props.lang?"header-language-point language-active":"header-language-point"},"EN")))}}]),a}(r.a.Component);a(30);function f(e){var t=+e.weather.pres/1.333,a=r.a.createElement("span",null,"\u041e\u0442\u043d. \u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c:"),n=r.a.createElement("span",null,"Rel. humidity:"),i=r.a.createElement("span",null,"\u043c\u043c ",r.a.createElement("br",null)," \u0440\u0442. \u0441\u0442."),c=r.a.createElement("span",null,r.a.createElement("br",null),"mmHg");return r.a.createElement("div",{className:"body"},r.a.createElement("h3",{className:"body-main"}," ","ru"===e.lang.toLowerCase()?"\u041f\u043e\u0433\u043e\u0434\u0430 \u0441\u0435\u0439\u0447\u0430\u0441:":"Weather now:"," "),r.a.createElement("div",{className:"body-block"},r.a.createElement("div",{className:"body-block-pic"},r.a.createElement("p",{className:"body-block-descr"},e.weather.weather.description),r.a.createElement("img",{className:"pic",src:"https://www.weatherbit.io/static/img/icons/".concat(e.weather.weather.icon,".png"),alt:"weather pic"})),r.a.createElement("div",{className:"body-block-temp"},r.a.createElement("h4",{className:"temp"},e.weather.temp,r.a.createElement("span",null,"\xb0C")),r.a.createElement("h5",{className:"app-temp"},"ru"===e.lang.toLowerCase()?"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ":"Feels like: ",e.weather.app_temp,r.a.createElement("span",null,"\xb0C")))),r.a.createElement("div",{className:"body-add-info"},r.a.createElement("div",{className:"body-add-info-block"},r.a.createElement("p",{className:"info-main"},"ru"===e.lang.toLowerCase()?"\u0412\u0435\u0442\u0435\u0440:":"Wind:"),r.a.createElement("p",{className:"info-txt"},e.weather.wind_cdir_full,", ",r.a.createElement("br",null)," ",e.weather.wind_spd.toFixed(2)," ",r.a.createElement("span",null,"ru"===e.lang.toLowerCase()?"\u043c/\u0441":"m/s"))),r.a.createElement("div",{className:"body-add-info-block"},r.a.createElement("p",{className:"info-main"},"ru"===e.lang.toLowerCase()?"\u0412\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c:":"Visibility:"),r.a.createElement("p",{className:"info-txt"},e.weather.vis.toFixed(2)," ",r.a.createElement("span",null,"ru"===e.lang.toLowerCase()?"\u043a\u043c":"km"))),r.a.createElement("div",{className:"body-add-info-block"},r.a.createElement("p",{className:"info-main"},"ru"===e.lang.toLowerCase()?"\u041e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c:":"Cloud coverage:"),r.a.createElement("p",{className:"info-txt"},e.weather.clouds," ",r.a.createElement("span",null,"%"))),r.a.createElement("div",{className:"body-add-info-block"},r.a.createElement("p",{className:"info-main"},"ru"===e.lang.toLowerCase()?"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435:":"Pressure:"),r.a.createElement("p",{className:"info-txt"},+t.toFixed(0)," ","ru"===e.lang.toLowerCase()?i:c)),r.a.createElement("div",{className:"body-add-info-block"},r.a.createElement("p",{className:"info-main"},"ru"===e.lang.toLowerCase()?a:n),r.a.createElement("p",{className:"info-txt"},e.weather.rh," ",r.a.createElement("span",null,"%")))))}var w=function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getCorrectedTimeZone=function(e){var t=new Date,a=t.getHours()-t.getUTCHours();return+e[1]+a>=10?"".concat(+e.slice(0,2)+a).concat(e.slice(2)):"".concat(e[0]).concat(+e[1]+a).concat(e.slice(2))},e.handleCurrentChange=function(t){t.preventDefault(),e.props.currentShow(!e.props.current)},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(E,{lang:this.props.lang,weather:this.props.weather,sunrise:this.getCorrectedTimeZone(this.props.weather.sunrise),sunset:this.getCorrectedTimeZone(this.props.weather.sunset),langDocument:this.props.langDocument}),r.a.createElement(f,{lang:this.props.lang,weather:this.props.weather})," ",r.a.createElement("div",{className:"footer"},r.a.createElement("a",{className:"switchMenu",onClick:this.handleCurrentChange,href:"#"},"ru"===this.props.lang.toLowerCase()?"\u041f\u043e\u0447\u0430\u0441\u043e\u0432\u043e":"Hourly"),r.a.createElement("p",{className:"footer-location"},this.props.ip.country,", ",this.props.ip.city,". IP:"," ",this.props.ip.query)))}}]),a}(r.a.Component),y=(a(31),a(32),function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleLangChange=function(t){t.preventDefault(),e.props.langDocument(t.target.textContent.toLowerCase())},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header-daily"},r.a.createElement("div",{className:"header-language"},r.a.createElement("a",{onClick:this.handleLangChange,href:"#",className:"ru"===this.props.lang?"header-language-point language-active":"header-language-point"},"RU"),r.a.createElement("a",{onClick:this.handleLangChange,href:"#",className:"en"===this.props.lang?"header-language-point language-active":"header-language-point"},"EN")))}}]),a}(r.a.Component)),b=(a(33),function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.dailyWeather[1])}},{key:"render",value:function(){var e=r.a.createElement("p",null,"Loadeing...");return this.props.dailyWeather&&(e=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"daily-block"},r.a.createElement("div",{className:"daily-block-hour"},r.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[1].timestamp_local.slice(-8,-3)),r.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[1].weather.icon,".png"),alt:"weather pic"}),r.a.createElement("b",null,r.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[1].temp.toFixed(0),r.a.createElement("span",null,"\xb0C")))),r.a.createElement("div",{className:"daily-block-hour"},r.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[5].timestamp_local.slice(-8,-3)),r.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[5].weather.icon,".png"),alt:"weather pic"}),r.a.createElement("b",null,r.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[5].temp.toFixed(0),r.a.createElement("span",null,"\xb0C")))),r.a.createElement("div",{className:"daily-block-hour"},r.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[9].timestamp_local.slice(-8,-3)),r.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[9].weather.icon,".png"),alt:"weather pic"}),r.a.createElement("b",null,r.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[9].temp.toFixed(0),r.a.createElement("span",null,"\xb0C")))),r.a.createElement("div",{className:"daily-block-hour"},r.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[13].timestamp_local.slice(-8,-3)),r.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[13].weather.icon,".png"),alt:"weather pic"}),r.a.createElement("b",null,r.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[13].temp.toFixed(0),r.a.createElement("span",null,"\xb0C")))),r.a.createElement("div",{className:"daily-block-hour"},r.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[17].timestamp_local.slice(-8,-3)),r.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[17].weather.icon,".png"),alt:"weather pic"}),r.a.createElement("b",null,r.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[17].temp.toFixed(0),r.a.createElement("span",null,"\xb0C")))),r.a.createElement("div",{className:"daily-block-hour"},r.a.createElement("p",{className:"daily-block-hour_main"},this.props.dailyWeather[21].timestamp_local.slice(-8,-3)),r.a.createElement("img",{className:"daily-pic",src:"https://www.weatherbit.io/static/img/icons/".concat(this.props.dailyWeather[21].weather.icon,".png"),alt:"weather pic"}),r.a.createElement("b",null,r.a.createElement("p",{className:"daily-block-hour_txt"},this.props.dailyWeather[21].temp.toFixed(0),r.a.createElement("span",null,"\xb0C"))))))),r.a.createElement(r.a.Fragment,null,this.props.dailyWeather?e:null)}}]),a}(r.a.Component)),v=function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCurrentChange=function(t){t.preventDefault(),e.props.currentShow(!e.props.current)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{lang:this.props.lang,langDocument:this.props.langDocument}),r.a.createElement(b,{lang:this.props.lang,ip:this.props.ip,dailyWeather:this.props.dailyWeather}));return r.a.createElement("div",{className:"container"},e,r.a.createElement("div",{className:"footer"},r.a.createElement("a",{className:"switchMenu",onClick:this.handleCurrentChange,href:"#"},"ru"===this.props.lang.toLowerCase()?"\u0421\u0435\u0439\u0447\u0430\u0441":"Now"),r.a.createElement("p",{className:"footer-location"},this.props.ip.country,", ",this.props.ip.city,". IP:"," ",this.props.ip.query)))}}]),a}(r.a.Component),N=function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchData("http://ip-api.com/json")}},{key:"componentDidUpdate",value:function(e){this.props.ip!==e.ip&&(this.props.fetchWeather("https://api.weatherbit.io/v2.0/current?&lat=".concat(this.props.ip.lat,"&lon=").concat(this.props.ip.lon,"&key=3e5b62ad8da34e2cb55ab71ceae765eb&lang=").concat(this.props.lang)),this.props.weatherDailyFetchData("https://api.weatherbit.io/v2.0/forecast/hourly?&lat=".concat(this.props.ip.lat,"&lon=").concat(this.props.ip.lon,"&key=3e5b62ad8da34e2cb55ab71ceae765eb&hours=25&lang=").concat(this.props.lang))),this.props.lang!==e.lang&&(this.props.fetchWeather("https://api.weatherbit.io/v2.0/current?&lat=".concat(this.props.ip.lat,"&lon=").concat(this.props.ip.lon,"&key=3e5b62ad8da34e2cb55ab71ceae765eb&lang=").concat(this.props.lang)),this.props.weatherDailyFetchData("https://api.weatherbit.io/v2.0/forecast/hourly?&lat=".concat(this.props.ip.lat,"&lon=").concat(this.props.ip.lon,"&key=3e5b62ad8da34e2cb55ab71ceae765eb&hours=25&lang=").concat(this.props.lang)))}},{key:"render",value:function(){var e=this.props.ip&&this.props.weather.sunrise?r.a.createElement(w,{lang:this.props.lang,weather:this.props.weather,ip:this.props.ip,getCorrectedTimeZone:this.props.getCorrectedTimeZone,langDocument:this.props.langDocument,current:this.props.current,dailyWeather:this.props.dailyWeather,weatherDailyFetchData:this.props.weatherDailyFetchData,currentShow:this.props.currentShow}):r.a.createElement(g,null),t=this.props.ip&&this.props.dailyWeather[0]?r.a.createElement(v,{lang:this.props.lang,ip:this.props.ip,langDocument:this.props.langDocument,current:this.props.current,dailyWeather:this.props.dailyWeather,weatherDailyFetchData:this.props.weatherDailyFetchData,currentShow:this.props.currentShow}):r.a.createElement(g,null);return r.a.createElement("div",{className:"wrapper"},this.props.current?e:t)}}]),a}(r.a.Component),C=Object(h.b)((function(e){return{weather:e.weather,isWeatherError:e.isWeatherError,isWeatherLoading:e.isWeatherLoading,ip:e.ip,isError:e.isError,isLoading:e.isLoading,lang:e.lang,current:e.current,dailyWeather:e.dailyWeather}}),(function(e){return{fetchData:function(t){return e(function(e){return function(t){t(u(!0)),fetch(e).then((function(e){if(!e.ok)throw Error(e.statusText);return t(u(!1)),e})).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:"INFORM_FETCH_DATA_SUCCESS",ip:e}}(e))})).catch((function(){return t({type:"INFORM_HAS_ERRORED",isError:!0})}))}}(t))},fetchWeather:function(t){return e(function(e){return function(t){t(m(!0)),fetch(e).then((function(e){if(!e.ok)throw Error(e.statusText);return t(m(!1)),e})).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:"WEATHER_FETCH_DATA_SUCCESS",weather:e}}(e.data[0]))})).catch((function(){return t({type:"WEATHER_HAS_ERRORED",isWeatherError:!0})}))}}(t))},langDocument:function(t){return e(function(e){return{type:"CHANGING_LANGUAGE",lang:e}}(t))},weatherDailyFetchData:function(t){return e(function(e){return function(t){t(d(!0)),fetch(e).then((function(e){if(!e.ok)throw Error(e.statusText);return t(d(!1)),e})).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:"WEATHER_DAILY_FETCH_DATA_SUCCESS",weatherDaily:e}}(e.data))})).catch((function(){return t({type:"WEATHER_DAILY_HAS_ERRORED",isError:!0})}))}}(t))},currentShow:function(t){return e(function(e){return{type:"SHOW_CURRENT",currentWeather:e}}(t))}}}))(N),_=a(5),W=a(14);var D=Object(_.c)({informIsError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFORM_HAS_ERRORED":return t.isError;default:return e}},informIsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFORM_IS_LOADING":return t.isLoading;default:return e}},ip:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INFORM_FETCH_DATA_SUCCESS":return t.ip;default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER_FETCH_DATA_SUCCESS":return t.weather;default:return e}},weatherIsError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER_HAS_ERRORED":return t.isWeatherError;default:return e}},weatherIsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER_IS_LOADING":return t.isWeatherLoading;default:return e}},lang:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ru",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGING_LANGUAGE":return t.lang;default:return e}},current:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_CURRENT":return t.currentWeather;default:return e}},dailyWeather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER_DAILY_FETCH_DATA_SUCCESS":return t.weatherDaily;default:return e}}});var k,A=Object(_.d)(D,k,Object(_.a)(W.a));c.a.render(r.a.createElement(h.a,{store:A},r.a.createElement(C,null)),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.f296a55e.chunk.js.map